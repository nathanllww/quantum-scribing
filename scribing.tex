\documentclass[11pt]{article}

\usepackage{braket}
\input{macros}

\begin{document}
%%% Fill in the lecture number, date and the scribe name here
%% \lecturenote{<Lecture Number>}{<Date/Lecture title>}{<Scribe Name>}

\lecturenote{06}{CHSH Game and Bell's Inequalities}{Nathan White, Dishen Wang, Han Cao}
%\title{Sample: LP-based Decoding of Expander Codes}
%\maketitle

\section{Partial Measurements}
This lecture begins with a recap and expansion of the concept of \textit{partial measurements}.
Consider some state over two qubits; any such state can be written as
\[\alpha_{00}\ket{00} + \alpha_{01}\ket{01} + \alpha_{10}\ket{10} + \alpha_{11}\ket{11}\]
where $|\alpha_{00}|^2+|\alpha_{01}|^2+|\alpha_{10}|^2+|\alpha_{11}|^2=1$.
Suppose Alice measures her (the first) qubit.
Then,

\begin{itemize}
    \item Her qubit collapses to 0, which has probability $p_0 = |\alpha_{00}|^2+|\alpha_{01}|^2$.
        In this case, the state becomes $(1/\sqrt{p_0})(\alpha_{00}\ket{00}+\alpha_{01}\ket{01}) = (1/\sqrt{p_0})\ket{0}\otimes (\alpha_{00}\ket{0}+\alpha_{01}\ket{1})$.
        This is no longer entangled, since Alice's qubit has been measured, but the probabilities remain the same as in the complete measurement.
        Bob's probability of seeing 0 after Alice sees 0 is $|\alpha_{00}|^2/p_0$, and since Alice see 0 with probability $p_0$, they both see 0 with probability $|\alpha_{00}|^2$, as expected.
    \item Her qubit collapses to 1, which has probability $p_1 = 1-p_0$.
        By symmetry, the analogous situation to collapsing to 0 occurs.
\end{itemize}
From this exercise, we see that Alice measuring and Bob later measuring is the same as measuring the entire state.
Moreover, the exact same argument follows with Bob measuring first; thus order of measuring does not matter.

For measuring in other bases, the exact same process applies; we can rewrite the state in the new basis (in which case our measuring deceive differs) or use the same measuring device but first applying a unitary transformation.
The following fact can also help with measuring in a new basis.
\begin{fact}
    If $v_1,\ldots, v_n$ form an orthonormal basis, then for any $\phi$
    \[\ket{\phi} = \sum_{i=1}^{n}\ket{v_i}\braket{v_i\mid \phi}\]
\end{fact}

To illustrate how partial measurements in other bases work, consider the following example.
Suppose we have a state $(1/\sqrt{2})\ket{00}+(1/\sqrt{2})\ket{11}$, which is called the \textit{Bell State}.
Alice wishes to measure in the $\ket{+},\ket{-}$ basis, where $\ket{+}=(1/\sqrt{2})(\ket{0}+\ket{1})$ and $\ket{-}=(1/\sqrt{2})(\ket{0}-\ket{1})$.
In this new basis for Alice, the bell state becomes
\begin{align*}
    & \frac{1}{2}\ket{+0}+\frac{1}{2}\ket{-0}+\frac{1}{2}\ket{+1}-\frac{1}{2}\ket{-1} \\
    =& \frac{1}{\sqrt{2}}\ket{+}\oplus\left( \frac{1}{\sqrt{2}}\ket{0}+\frac{1}{\sqrt{2}}\ket{1} \right) + \frac{1}{\sqrt{2}}\ket{-}\oplus\left( \frac{1}{\sqrt{2}}\ket{0}-\frac{1}{\sqrt{2}}\ket{1} \right) \\
    =& \frac{1}{\sqrt{2}}\ket{+}\oplus\ket{+} + \frac{1}{\sqrt{2}}\ket{-}\oplus\ket{-} \\
    =& \frac{1}{\sqrt{2}}\ket{++} + \frac{1}{\sqrt{2}}\ket{--}
\end{align*}
Thus, when Alice measures, she sees $+$ with probability $1/2$ and $-$ with probability $1/2$, and Bob will see whatever Alice measures.
Note that this symmetry between 00 and ++ (and 11 and $--$) is not general, and is in fact a special property of the Bell state.

\section{CHSH Game Introduction and Classical Strategies}
CHSH game (named after the CHSH inequality discovered by John Clauser, Michael Horne, Abner Shimony, and Richard Holt) is an experiment involving two cooperating players and a referee. The analysis of the game shows that no classical strategy can have a higher 75\% success rate and that the quantum strategy can have a greater success rate than the classical strategy.
\subsection{Definition}
The game is defined by the following rules:
\begin{enumerate}
    \item Two cooperating players, Alice and Bob and a referee, Charlie, are introduced to the game.
    \item First, Charlie chooses bits $ a, b \in \{0,1\}$ uniformly at random.
    \item Next, Charlie sends bit $x$ to Alice and bit $y$ to Bob.
    \item Alice and Bob then respond to Charlie with each of their own bit, $a,b\in \{0,1\}$, respectively as well.
    \item Once receiving a and b, Charlie tests that if $a,b,x$ and $y$ satisfies the following equality:
    \[a \oplus b = x \land y\]
    if true, then Alice and Bob win, if false, then Alice and Bob lose.

\end{enumerate}

\subsection{Classical Strategies}
Initially, we will try several classical strategies to determine the success rate of each approach.

\subsubsection*{Strategy \#1: Communicating}
Alice and Bob communicate their answers, and agree on the message back

\begin{itemize}
    \item Since Alice and Bob are cooperative players, both parties will always produce an output that satisfies the success criteria, which means the success rate of this strategy will always be 100\%.
    \item This approach is too easy, however, and so the communication between Alice and Bob will now be banned.
\end{itemize}

\subsubsection*{Strategy \#2: Deterministic}
We now move to the ``no communication'' case, where Alice and Bob cannot communicate during the game, and first consider deterministic strategies.
One simple strategy is to have Alice and Bob both send 0 every time.
We can analyze the performance of this method as follows:

\begin{itemize}
    \item If $a$ and $b$ are both bit 0, then $x\land y$ must equal to 0 to satisfy the equality.
    \item The probability of $x\land y = 0$ is 75\% since 3 out of the 4 uniformly random outcomes $([0,0],[0,1],[1,0])$ outputs result bit 0.
\end{itemize}

The following theorem shows that, despite being simple, this is the best possible deterministic classical strategy.
\begin{theorem}
Any deterministic strategy has a success rate of at most 75\%
\end{theorem}
\begin{proof}
    Any deterministic strategy with success probability greater than 75\% must succeed every time, since there are only 4 possible options for $x,y$.
    Suppose such a strategy exists; i.e. consider a strategy with 100\% success probability.
    Let $a,b: \{0,1\}\to \{0,1\}$ be Alice and Bob's respective decisions given $x$ or $y$, respectively.
    Then, with addition over $\mathbb{F}_2$, $a(0)+b(0)=1, a(0)+b(1)=0$ and $a(1)+b(0)=0$.
    But these imply that $a(1)+b(1)=0$, contradicting that the strategy always succeeds.
\end{proof}

\subsubsection*{Strategy \#3: Randomized}
Many times in computer science, randomness proves quite helpful; one might thus hope it does so here as well.
Alas, the following theorem shows that any randomized strategies cannot do any better.

\begin{theorem}
Any randomized strategy has a success rate of at most 75\%
\end{theorem}

\begin{proof}
    Randomized strategies can be thought as the same as performing a probability distribution over deterministic strategies.
    This means that the success rate is a weighted sum over the success rate of the deterministic strategies.
    But since deterministic strategies can have a success rate of at most 75\%, the randomized strategies success rate can also only have a max rate of 75\% as well.
\end{proof}

\section{CHSH game Quantum Strategy}
We now move on to \textit{quantum strategies}, i.e. those where Alice and Bob can exchange qubits beforehand.
In this case, we \textit{can} do better than 75\%, achieving a strategy with 85\% success rate.

\subsection{Setup: Measuring in an EPR pair}
For the quantum strategy, Alice and Bob exchange an EPR \textit{before} the game begins, and then measure it in a basis depending on the bits $x,y$ they receive.

Recall that a Bell state or EPR pair $\Phi$ is defined as
\[ \frac{1}{2}(\ket{00}+\ket{11}) = \Phi = \frac{1}{2}(\ket{++}+\ket{--}) \]
Suppose Alice has one qubit and Bob has the other qubit.
Alice then receives the bit $x$ and does one of two things:
\begin{itemize}
    \item If $x = 0$, Alice measures in standard basis;
    \item If $x = 1$, Alice measures in $\ket{+}$, $\ket{-}$. If she sees $\ket{+}$ she will send back 0, otherwise she will send back 1.
\end{itemize}
Similarly, Bob receives the bit $y$ and
\begin{itemize}
	\item If $y = 0$, Bob measures in the basis
	\[ a_0 = \cos{\left(\frac{\pi}{8}\right)}\ket{0} + \sin{\left(\frac{\pi}{8}\right)}\ket{1} \]
	\[ a_1 = -\sin{\left(\frac{\pi}{8}\right)}\ket{0} + \cos{\left(\frac{\pi}{8}\right)}\ket{1} \]
	\item If $y = 1$, Bob measures in a different basis
	\[ b_0 = \cos{\left(\frac{\pi}{8}\right)}\ket{0} - \sin{\left(\frac{\pi}{8}\right)}\ket{1} \]
	\[ b_1 = \sin{\left(\frac{\pi}{8}\right)}\ket{0} + \cos{\left(\frac{\pi}{8}\right)}\ket{1} \]
\end{itemize}

If Bob sees $a_0$ or $b_0$ he will return 0, otherwise he will return 1.

\subsection{Analysis: Case where $x=0,y=0$}
If $x=y=0$, we will succeed if $a = b = 0$ or $a = b = 1$.
Equivalently, if Alice measures $0$, we want Bob to measure $a_0$, and if Alice measures measures $1$, we want Bob to measure $a_1$.
This first case corresponds to the value
\[ |\bra{\Phi}(\ket{0}\otimes\ket{a_0})|^2 = \left|\bra{\Phi}\left(\cos{\left(\frac{\pi}{8}\right)}\ket{00} + \sin{\left(\frac{\pi}{8}\right)}\ket{01}\right) \right|^2 = \left| \frac{\cos{\left(\frac{\pi}{8}\right)}}{\sqrt{2}} \right|^2 =  \frac{\cos^2{\left(\frac{\pi}{8}\right)}}{2}.  \]
and similarly for the $1,a_1$ case.
Multiplying by 2 for the two wining cases, we find a total success probability of
\[\cos^2\left( \frac{\pi}{8} \right)\approx 0.85\]
roughly 10\% higher than the best classical strategy!

\subsection{Intuition}
If we look at the standard basis qualitatively, $\cos{(\pi/8)}$ is close to 1 because $\pi/8$ is close to 0; $\pi/8$ corresponds to roughly a 22.5 degree angle.
If Alice and Bob's bases are close to each other, they'll likely output the same thing, whereas if they're far they are more likely to return different values.
The following table thus gives intuition for why this works well: if the cases were we want to get $x\wedge y = 0$, the bases are ``close'', and if $x=y=1$, the bases are ``far.''

% \begin{table}[h!]
% \centering
\begin{center}
    \begin{tabular}{|c|c|c|c|}
        \hline
        $x$ & $y$ & $x \wedge y$ & Intuition \\
        \hline
         0  & 0  & 0 & Bases are close \\
        \hline
         0  & 1  & 0 & Bases are close \\
        \hline
         1  & 0  & 0 & Bases are close \\
        \hline
         1 & 1  & 1 & Bases are far \\
        \hline
    \end{tabular}
\end{center}

Thus, in all cases, we have a large probability of success.

\end{document}
